<!DOCTYPE html>

<html :class="{'dark': darkMode === 'dark' || (darkMode === 'system' &amp;&amp; window.matchMedia('(prefers-color-scheme: dark)').matches)}" class="scroll-smooth" data-content_root="../../" lang="en" x-data="{ darkMode: localStorage.getItem('darkMode') || localStorage.setItem('darkMode', 'system'), activeSection: '' }" x-init="$watch('darkMode', val =&gt; localStorage.setItem('darkMode', val))">
<head>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta charset="utf-8"/>
<meta content="white" media="(prefers-color-scheme: light)" name="theme-color"/>
<meta content="black" media="(prefers-color-scheme: dark)" name="theme-color"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Create test dataset | Giskard Hub  documentation</title>
<meta content="Create test dataset | Giskard Hub  documentation" property="og:title"/>
<meta content="Create test dataset | Giskard Hub  documentation" name="twitter:title"/>
<link href="../../_static/pygments.css?v=beddf052" rel="stylesheet" type="text/css"/>
<link href="../../_static/theme.css?v=ecdfb4fc" rel="stylesheet" type="text/css"/>
<link href="../../_static/sphinx-design.min.css?v=95c83b7e" rel="stylesheet" type="text/css"/>
<link href="../../_static/pygments-dark.css?v=d7994ac5" rel="stylesheet" type="text/css"/>
<link href="../../_static/custom.css?v=d7beac4d" rel="stylesheet" type="text/css"/>
<link href="../../_static/awesome-sphinx-design.css?v=a54cf077" rel="stylesheet" type="text/css"/>
<link href="../../_static/favicon.ico" rel="icon"/>
<link href="../../search.html" rel="search" title="Search"/>
<link href="../../genindex.html" rel="index" title="Index"/>
<link href="annotate.html" rel="next" title="Annotate test dataset"/>
<link href="../quickstart.html" rel="prev" title="Quickstart &amp; Setup"/>
<script>
    <!-- Prevent Flash of wrong theme -->
      const userPreference = localStorage.getItem('darkMode');
      let mode;
      if (userPreference === 'dark' || window.matchMedia('(prefers-color-scheme: dark)').matches) {
        mode = 'dark';
        document.documentElement.classList.add('dark');
      } else {
        mode = 'light';
      }
      if (!userPreference) {localStorage.setItem('darkMode', mode)}
    </script>
</head>
<body :class="{ 'overflow-hidden': showSidebar }" class="min-h-screen font-sans antialiased bg-background text-foreground" x-data="{ showSidebar: false }">
<div @click.self="showSidebar = false" class="fixed inset-0 z-50 overflow-hidden bg-background/80 backdrop-blur-sm md:hidden" x-cloak="" x-show="showSidebar"></div><div class="relative flex flex-col min-h-screen" id="page"><a class="absolute top-0 left-0 z-[100] block bg-background p-4 text-xl transition -translate-x-full opacity-0 focus:translate-x-0 focus:opacity-100" href="#content">
      Skip to content
    </a><header class="sticky top-0 z-40 w-full border-b shadow-sm border-border supports-backdrop-blur:bg-background/60 bg-background/95 backdrop-blur"><div class="container flex items-center h-14">
<div class="hidden mr-4 md:flex">
<a class="flex items-center mr-6" href="../../index.html">
<img alt="Logo" class="mr-2 hidden dark:block" height="24" src="../../_static/logo_white.png" width="24"/>
<img alt="Logo" class="mr-2 dark:hidden" height="24" src="../../_static/logo_black.png" width="24"/><span class="hidden font-bold sm:inline-block text-clip whitespace-nowrap">Giskard Hub  documentation</span>
</a></div><button @click="showSidebar = true" class="inline-flex items-center justify-center h-10 px-0 py-2 mr-2 text-base font-medium transition-colors rounded-md hover:text-accent-foreground hover:bg-transparent md:hidden" type="button">
<svg aria-hidden="true" fill="currentColor" height="24" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M152.587 825.087q-19.152 0-32.326-13.174t-13.174-32.326q0-19.152 13.174-32.326t32.326-13.174h440q19.152 0 32.326 13.174t13.174 32.326q0 19.152-13.174 32.326t-32.326 13.174h-440Zm0-203.587q-19.152 0-32.326-13.174T107.087 576q0-19.152 13.174-32.326t32.326-13.174h320q19.152 0 32.326 13.174T518.087 576q0 19.152-13.174 32.326T472.587 621.5h-320Zm0-203.587q-19.152 0-32.326-13.174t-13.174-32.326q0-19.152 13.174-32.326t32.326-13.174h440q19.152 0 32.326 13.174t13.174 32.326q0 19.152-13.174 32.326t-32.326 13.174h-440ZM708.913 576l112.174 112.174q12.674 12.674 12.674 31.826t-12.674 31.826Q808.413 764.5 789.261 764.5t-31.826-12.674l-144-144Q600 594.391 600 576t13.435-31.826l144-144q12.674-12.674 31.826-12.674t31.826 12.674q12.674 12.674 12.674 31.826t-12.674 31.826L708.913 576Z"></path>
</svg>
<span class="sr-only">Toggle navigation menu</span>
</button>
<div class="flex items-center justify-between flex-1 space-x-2 sm:space-x-4 md:justify-end">
<div class="flex-1 w-full md:w-auto md:flex-none"><form @keydown.k.window.meta="$refs.search.focus()" action="../../search.html" class="relative flex items-center group" id="searchbox" method="get">
<input aria-label="Search the docs" class="inline-flex items-center font-medium transition-colors bg-transparent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ring-offset-background border border-input hover:bg-accent focus:bg-accent hover:text-accent-foreground focus:text-accent-foreground hover:placeholder-accent-foreground py-2 px-4 relative h-9 w-full justify-start rounded-[0.5rem] text-sm text-muted-foreground sm:pr-12 md:w-40 lg:w-64" id="search-input" name="q" placeholder="Search ..." type="search" x-ref="search"/>
<kbd class="pointer-events-none absolute right-1.5 top-2 hidden h-5 select-none text-muted-foreground items-center gap-1 rounded border border-border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex group-hover:bg-accent group-hover:text-accent-foreground">
<span class="text-xs">⌘</span>
    K
  </kbd>
</form>
</div>
<nav class="flex items-center space-x-1">
<button @click="darkMode = darkMode === 'light' ? 'dark' : 'light'" aria-label="Color theme switcher" class="relative inline-flex items-center justify-center px-0 text-sm font-medium transition-colors rounded-md hover:bg-accent hover:text-accent-foreground h-9 w-9" type="button">
<svg class="absolute transition-all scale-100 rotate-0 dark:-rotate-90 dark:scale-0" fill="currentColor" height="24" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M480 685q45.456 0 77.228-31.772Q589 621.456 589 576q0-45.456-31.772-77.228Q525.456 467 480 467q-45.456 0-77.228 31.772Q371 530.544 371 576q0 45.456 31.772 77.228Q434.544 685 480 685Zm0 91q-83 0-141.5-58.5T280 576q0-83 58.5-141.5T480 376q83 0 141.5 58.5T680 576q0 83-58.5 141.5T480 776ZM80 621.5q-19.152 0-32.326-13.174T34.5 576q0-19.152 13.174-32.326T80 530.5h80q19.152 0 32.326 13.174T205.5 576q0 19.152-13.174 32.326T160 621.5H80Zm720 0q-19.152 0-32.326-13.174T754.5 576q0-19.152 13.174-32.326T800 530.5h80q19.152 0 32.326 13.174T925.5 576q0 19.152-13.174 32.326T880 621.5h-80Zm-320-320q-19.152 0-32.326-13.174T434.5 256v-80q0-19.152 13.174-32.326T480 130.5q19.152 0 32.326 13.174T525.5 176v80q0 19.152-13.174 32.326T480 301.5Zm0 720q-19.152 0-32.326-13.17Q434.5 995.152 434.5 976v-80q0-19.152 13.174-32.326T480 850.5q19.152 0 32.326 13.174T525.5 896v80q0 19.152-13.174 32.33-13.174 13.17-32.326 13.17ZM222.174 382.065l-43-42Q165.5 327.391 166 308.239t13.174-33.065q13.435-13.674 32.587-13.674t32.065 13.674l42.239 43q12.674 13.435 12.555 31.706-.12 18.272-12.555 31.946-12.674 13.674-31.445 13.413-18.772-.261-32.446-13.174Zm494 494.761-42.239-43q-12.674-13.435-12.674-32.087t12.674-31.565Q686.609 756.5 705.38 757q18.772.5 32.446 13.174l43 41.761Q794.5 824.609 794 843.761t-13.174 33.065Q767.391 890.5 748.239 890.5t-32.065-13.674Zm-42-494.761Q660.5 369.391 661 350.62q.5-18.772 13.174-32.446l41.761-43Q728.609 261.5 747.761 262t33.065 13.174q13.674 13.435 13.674 32.587t-13.674 32.065l-43 42.239q-13.435 12.674-31.706 12.555-18.272-.12-31.946-12.555Zm-495 494.761Q165.5 863.391 165.5 844.239t13.674-32.065l43-42.239q13.435-12.674 32.087-12.674t31.565 12.674Q299.5 782.609 299 801.38q-.5 18.772-13.174 32.446l-41.761 43Q231.391 890.5 212.239 890t-33.065-13.174ZM480 576Z"></path>
</svg>
<svg class="absolute transition-all scale-0 rotate-90 dark:rotate-0 dark:scale-100" fill="currentColor" height="24" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M480 936q-151 0-255.5-104.5T120 576q0-138 90-239.5T440 218q25-3 39 18t-1 44q-17 26-25.5 55t-8.5 61q0 90 63 153t153 63q31 0 61.5-9t54.5-25q21-14 43-1.5t19 39.5q-14 138-117.5 229T480 936Zm0-80q88 0 158-48.5T740 681q-20 5-40 8t-40 3q-123 0-209.5-86.5T364 396q0-20 3-40t8-40q-78 32-126.5 102T200 576q0 116 82 198t198 82Zm-10-270Z"></path>
</svg>
</button>
</nav>
</div>
</div>
</header>
<div class="flex-1"><div class="container flex-1 items-start md:grid md:grid-cols-[220px_minmax(0,1fr)] md:gap-6 lg:grid-cols-[240px_minmax(0,1fr)] lg:gap-10"><aside :aria-hidden="!showSidebar" :class="{ 'translate-x-0': showSidebar }" class="fixed inset-y-0 left-0 md:top-14 z-50 md:z-30 bg-background md:bg-transparent transition-all duration-100 -translate-x-full md:translate-x-0 ml-0 p-6 md:p-0 md:-ml-2 md:h-[calc(100vh-3.5rem)] w-5/6 md:w-full shrink-0 overflow-y-auto border-r border-border md:sticky" id="left-sidebar">
<a class="!justify-start text-sm md:!hidden bg-background" href="../../index.html">
<img alt="Logo" class="mr-2 hidden dark:block" height="16" src="../../_static/logo_white.png" width="16"/>
<img alt="Logo" class="mr-2 dark:hidden" height="16" src="../../_static/logo_black.png" width="16"/><span class="font-bold text-clip whitespace-nowrap">Giskard Hub  documentation</span>
</a>
<div class="relative overflow-hidden md:overflow-auto my-4 md:my-0 h-[calc(100vh-8rem)] md:h-auto">
<div class="overflow-y-auto h-full w-full relative pr-6"><nav class="table w-full min-w-full my-6 lg:my-8">
<p class="caption" role="heading"><span class="caption-text">Giskard Hub</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart &amp; Setup</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Create test dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="annotate.html">Annotate test dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="run-evaluations.html">Run and compare evaluations</a></li>
<li class="toctree-l1"><a class="reference internal" href="playground.html">Create tests in playground</a></li>
<li class="toctree-l1"><a class="reference internal" href="continuous-red-teaming.html">Continuous red teaming</a></li>
<li class="toctree-l1"><a class="reference internal" href="access-rights.html">Set access rights</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Giskard Python SDK</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cli/quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli/guide/manage-datasets.html">Manage datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli/guide/custom-checks.html">Custom checks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli/guide/run-evaluations.html">Run evaluations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli/guide/local-evaluation.html">Evaluate local models</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Reference</span></p>
<ul>
<li class="toctree-l1" x-data="{ expanded: $el.classList.contains('current') ? true : false }"><a :class="{ 'expanded' : expanded }" @click="expanded = !expanded" class="reference internal expandable" href="../../cli/reference/index.html">Python API Reference<button @click.prevent.stop="expanded = !expanded" type="button"><span class="sr-only"></span><svg fill="currentColor" height="18px" stroke="none" viewbox="0 0 24 24" width="18px" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg></button></a><ul x-show="expanded">
<li class="toctree-l2"><a class="reference internal" href="../../cli/reference/client.html">Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli/reference/entities/index.html">Entities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli/reference/resources/index.html">Resources</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</div>
<button @click="showSidebar = false" class="absolute md:hidden right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100" type="button">
<svg class="h-4 w-4" fill="currentColor" height="24" stroke="none" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M480 632 284 828q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536 576l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480 632Z"></path>
</svg>
</button>
</aside>
<main class="relative py-6 lg:gap-10 lg:py-8 xl:grid xl:grid-cols-[1fr_300px]">
<div class="w-full min-w-0 mx-auto">
<nav aria-label="breadcrumbs" class="flex items-center mb-4 space-x-1 text-sm text-muted-foreground">
<a class="overflow-hidden text-ellipsis whitespace-nowrap hover:text-foreground" href="../../index.html">
<span class="hidden md:inline">Giskard Hub  documentation</span>
<svg aria-label="Home" class="md:hidden" fill="currentColor" height="18" stroke="none" viewbox="0 96 960 960" width="18" xmlns="http://www.w3.org/2000/svg">
<path d="M240 856h120V616h240v240h120V496L480 316 240 496v360Zm-80 80V456l320-240 320 240v480H520V696h-80v240H160Zm320-350Z"></path>
</svg>
</a>
<div class="mr-1">/</div><span aria-current="page" class="font-medium text-foreground overflow-hidden text-ellipsis whitespace-nowrap">Create test dataset</span>
</nav>
<div id="content" role="main">
<section id="create-test-dataset">
<h1>Create test dataset<a class="headerlink" href="#create-test-dataset" title="Link to this heading">¶</a></h1>
<p>This section will guide you through generating a dataset from scratch or importing an existing conversation that you want to use as tests.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A <strong>dataset</strong> is a collection of conversations used to evaluate your agents.</p>
</div>
<section id="generate-test-cases">
<h2>Generate test cases<a class="headerlink" href="#generate-test-cases" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#generate-test-cases'">¶</a></h2>
<p>Since generative AI agents can encounter an infinite number of test cases, automated test case generation is often necessary (especially when you don’t have any test conversations to import). One of the key challenges of synthetic test data generation is ensuring that the test cases are domain-specific rather than too generic.</p>
<p>On this page, we’ll explain how to generate both legitimate and adversarial queries to thoroughly test AI agent responses.</p>
<p>To begin, navigate to the Datasets page and click <strong>Automatic Generation</strong> in the upper-right corner of the screen. This will open a modal with two options: Adversarial or Document-Based.</p>
<section id="adversarial-tests-generation">
<h3>Adversarial tests generation<a class="headerlink" href="#adversarial-tests-generation" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#adversarial-tests-generation'">¶</a></h3>
<p>Adversarial tests are queries that test against some security rules such as:</p>
<ul class="simple">
<li><p>Stereotypes &amp; Discrimination</p></li>
<li><p>Harmful Content</p></li>
<li><p>Personal Information Disclosure</p></li>
<li><p>Off-topic Queries</p></li>
<li><p>Financial Advice</p></li>
<li><p>Medical Advice</p></li>
<li><p>Prompt Injection</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Here are the key properties of an effective synthetic data generation process for adversarial queries:</p>
<ul class="simple">
<li><p><strong>Exhaustive:</strong> Use established security vulnerability categories for LLMs (e.g., OWASP Top 10) to cover the most well-known issues.</p></li>
<li><p><strong>Designed to trigger failures:</strong> Since foundational model providers frequently patch security flaws, testing must include novel variations that can bypass these patches. For example, for most prompt injection techniques (e.g., DAN), generating variants increases the likelihood of failures.</p></li>
<li><p><strong>Automatable:</strong> A good synthetic test case generator should not only generate adversarial queries but also the <code class="docutils literal notranslate"><span class="pre">rules</span></code> (or output requirements) so that the evaluation judge can automatically verify the compliance of the bot’s responses with these rules. This is essential for the LLM-as-a-judge setup.</p></li>
<li><p><strong>Domain-specific:</strong> As with legitimate queries, adding metadata to the synthetic data generator makes it more precise. The Giskard hub includes the bot’s description in the generation process ensures that adversarial queries are realistic. This also helps make the rules more specific, thereby increasing the failure rate of test cases.</p></li>
</ul>
</div>
<p>In the Adversarial tab, you can generate an adversarial test dataset within the above security categories. Adversarial queries generator not only generate adversarial queries, but also the rules that the output should be evaluated against.</p>
<a class="reference internal image-reference" href="../../_images/generate-dataset-adversarial.png"><img alt='"Generate adversarial dataset"' class="align-center" src="../../_images/generate-dataset-adversarial.png" style="width: 800px;"/>
</a>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Dataset</span> <span class="pre">name</span></code>: Provide a name for the dataset.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Agent</span></code>: Select the agent you want to use for evaluating this dataset.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Description</span></code>: Provide details about your agent to help generate more relevant examples.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Categories</span></code>: Select the category for which you want to generate examples (e.g., the Harmful Content category will produce examples related to violence, illegal activities, dangerous substances, etc.).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Number</span> <span class="pre">of</span> <span class="pre">examples</span> <span class="pre">per</span> <span class="pre">category</span></code>: Indicate how many examples you want to generate for each selected category.</p></li>
</ul>
</section>
<section id="document-based-generation">
<h3>Document-based generation<a class="headerlink" href="#document-based-generation" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#document-based-generation'">¶</a></h3>
<p>The Giskard Hub provides an interface for the synthetic generation of legitimate queries <strong>with expected outputs</strong>. It automatically clusters the internal knowledge base into key topics and generates test cases for each topic by applying a set of perturbations.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><strong>Legitimate queries</strong> are normal user inputs without malicious intent. Failure in these test cases often indicates hallucinations or incorrect answers. To automate this process, internal data (e.g., the knowledge base retrieved by the RAG) can be used as a seed to generate expected responses from the bot. A well-structured synthetic data process for legitimate queries should be:</p>
<ul class="simple">
<li><p><strong>Exhaustive</strong>: Create diverse test cases by ensuring coverage of all documents and/or topics used by the bot. We recommend you create 20 conversations per topic.</p></li>
<li><p><strong>Designed to trigger failures</strong>: Synthetic test cases should not be trivial queries, otherwise the chance that your tests fail becomes very low. The Giskard hub applies perturbation techniques (e.g., paraphrasing, adding out-of-scope contexts) to increase the likelihood of incorrect responses from the bot.</p></li>
<li><p><strong>Automatable</strong>: A good synthetic test case generator should not only generate queries but also generate the expected outputs so that the evaluation judge can automatically compare them with the bot’s responses. This is essential for the LLM-as-a-judge setup.</p></li>
<li><p><strong>Domain-specific</strong>: Synthetic test cases should not be generic queries; otherwise, they won’t be truly representative of real user queries. While these test cases should be reviewed by humans, it’s important to add metadata to the synthetic data generator to make it more specific. The Giskard Hub includes the bot’s description in the generation process to ensure that the queries are realistic.</p></li>
</ul>
</div>
<p>The Document Based tab allows you to generate a dataset with examples based on your knowledge base.</p>
<a class="reference internal image-reference" href="../../_images/generate-dataset-document-based.png"><img alt='"Generate document based dataset"' class="align-center" src="../../_images/generate-dataset-document-based.png" style="width: 800px;"/>
</a>
<p>In this case, dataset generation requires two additional pieces of information:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Knowledge</span> <span class="pre">Base</span></code>: Choose the knowledge base you want to use as a reference.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Topics</span></code>: Select the topics within the chosen knowledge base from which you want to generate examples.</p></li>
</ul>
<p>Once you click on “Generate,” you receive a dataset where:</p>
<ul class="simple">
<li><p>The groundedness check is enabled: the context consists of the knowledge documents relevant to answering the query.</p></li>
<li><p>The correctness check is disabled, but its reference (expected output) is prefilled by the Hub. If you want to execute the dataset with the correctness check, you can either enable it manually or enable it for multiple conversations at once by selecting multiple conversations in the Dataset tab and enabling the correctness check.</p></li>
</ul>
</section>
</section>
<section id="import-an-existing-dataset-of-tests">
<h2>Import an existing dataset of tests<a class="headerlink" href="#import-an-existing-dataset-of-tests" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#import-an-existing-dataset-of-tests'">¶</a></h2>
<section id="create-a-new-dataset">
<h3>Create a new dataset<a class="headerlink" href="#create-a-new-dataset" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#create-a-new-dataset'">¶</a></h3>
<p>On the Datasets page, click on “New dataset” button in the upper right corner of the screen. You’ll then be prompted to enter a name and description for your new dataset.</p>
<a class="reference internal image-reference" href="../../_images/create-dataset.png"><img alt='"Create a dataset"' class="align-center" src="../../_images/create-dataset.png" style="width: 800px;"/>
</a>
<p>After creating the dataset, you can either import multiple conversations or add individual conversations to it.</p>
</section>
<section id="import-a-dataset-of-conversations">
<h3>Import a dataset of conversations<a class="headerlink" href="#import-a-dataset-of-conversations" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#import-a-dataset-of-conversations'">¶</a></h3>
<p>To import conversations, click the “Import” button in the upper right corner of the screen.</p>
<a class="reference internal image-reference" href="../../_images/import-conversations.png"><img alt='"List of conversations"' class="align-center" src="../../_images/import-conversations.png" style="width: 800px;"/>
</a>
<p>You can import data in <strong>JSON or JSONL format</strong>, containing an array of conversations (or a conversation object per line, if JSONL).</p>
<p>Each conversation must be defined as a JSON object with a <code class="docutils literal notranslate"><span class="pre">messages</span></code> field containing the chat messages in OpenAI format. You can also specify these optional attributes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">demo_output</span></code>: an object presenting the output of the agent at some point</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tags</span></code>: a list of tags to categorize the conversation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">checks</span></code>: a list of checks to evaluate the conversation, they can be built-in or custom ones</p></li>
</ul>
<a class="reference internal image-reference" href="../../_images/import-conversations-detail.png"><img alt='"Import a conversation"' class="align-center" src="../../_images/import-conversations-detail.png" style="width: 800px;"/>
</a>
<p>Here’s an example of the structure and content in a dataset:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="p">[</span>
</span><span id="line-2">    <span class="p">{</span>
</span><span id="line-3">        <span class="s2">"messages"</span><span class="p">:</span> <span class="p">[</span>
</span><span id="line-4">            <span class="p">{</span><span class="s2">"role"</span><span class="p">:</span> <span class="s2">"assistant"</span><span class="p">,</span> <span class="s2">"content"</span><span class="p">:</span> <span class="s2">"Hello!"</span><span class="p">},</span>
</span><span id="line-5">            <span class="p">{</span><span class="s2">"role"</span><span class="p">:</span> <span class="s2">"user"</span><span class="p">,</span> <span class="s2">"content"</span><span class="p">:</span> <span class="s2">"Hi Bot!"</span><span class="p">},</span>
</span><span id="line-6">        <span class="p">],</span>
</span><span id="line-7">        <span class="s2">"demo_output"</span><span class="p">:</span> <span class="p">{</span><span class="s2">"role"</span><span class="p">:</span> <span class="s2">"assistant"</span><span class="p">,</span> <span class="s2">"content"</span><span class="p">:</span> <span class="s2">"How can I help you ?"</span><span class="p">},</span>
</span><span id="line-8">        <span class="s2">"tags"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"greetings"</span><span class="p">],</span>
</span><span id="line-9">        <span class="s2">"checks"</span><span class="p">:</span> <span class="p">[</span>
</span><span id="line-10">            <span class="p">{</span><span class="s2">"identifier"</span><span class="p">:</span> <span class="s2">"correctness"</span><span class="p">,</span> <span class="s2">"params"</span><span class="p">:</span> <span class="p">{</span><span class="s2">"reference"</span><span class="p">:</span> <span class="s2">"How can I help you?"</span><span class="p">}},</span>
</span><span id="line-11">            <span class="p">{</span><span class="s2">"identifier"</span><span class="p">:</span> <span class="s2">"conformity"</span><span class="p">,</span> <span class="s2">"params"</span><span class="p">:</span> <span class="p">{</span><span class="s2">"rules"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"The agent should not do X"</span><span class="p">]}},</span>
</span><span id="line-12">        <span class="p">]</span>
</span><span id="line-13">    <span class="p">}</span>
</span><span id="line-14"><span class="p">]</span>
</span></code></pre></div>
</div>
<p>Alternatively, you can import data in <strong>CSV format</strong>, containing one message per line.</p>
<p>Each CSV must contain a <code class="docutils literal notranslate"><span class="pre">user_message</span></code> column representing the message from the user. Additionally, the file can contain optional attributes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bot_message</span></code>: the answer from the agent</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tag*</span></code>: the list of tags (i.e. tag_1,tag_2,…)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">expected_output</span></code>: the expected output (reference answer) the agent should generate</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rule*</span></code>: the list of rules the agent should follow (i.e. rule_1,rule_2,…)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reference_context</span></code>: the context in which the agent must ground its response</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">check*</span></code>: the list of custom checks (i.e. check_1,check_2,…)</p></li>
</ul>
<p>Here’s an example of the structure and content in a dataset:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code><span id="line-1">user_message,bot_message,tag_1,tag_2,expected_output,rule_1,rule_2,check_1,check_2
</span><span id="line-2">Hi bot!,How can I help you?,greetings,assistance,How can I help you?,The agent should not do X,The agent should be polite,u_greet,u_polite
</span></code></pre></div>
</div>
</section>
<section id="add-a-conversation">
<h3>Add a conversation<a class="headerlink" href="#add-a-conversation" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#add-a-conversation'">¶</a></h3>
<p>To add a conversation, click the “Add conversation” button in the upper right corner of the screen.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Conversations</strong> are a collection of messages along with evaluation parameters, such as the expected answer or rules the agent must follow when responding.</p>
</div>
<p>A conversation consists of the following components:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Messages</span></code>: Contains the user’s input and the agent’s responses in a multi-message exchange.</p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">Evaluation</span> <span class="pre">Settings</span></code> (optional): Includes the checks, like the following ones:</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Correctness</span></code>: Verifies if the agent’s response matches the expected output (reference answer).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Conformity</span></code>: Ensures the agent’s response adheres to the rules, such as “The agent must be polite.”</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Groundedness</span></code>: Ensures the agent’s response is grounded in the conversation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">String</span> <span class="pre">matching</span></code>: Checks if the agent’s response contains a specific string, keyword, or sentence.</p></li>
<li><p>And any custom checks you may have defined.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">Properties</span></code>:</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Dataset</span></code>: Specifies where the conversations should be saved.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tags</span></code> (optional): Enables better organization and filtering of conversations.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<a class="reference internal image-reference" href="../../_images/add-conversation.png"><img alt='"Add a conversation"' class="align-center" src="../../_images/add-conversation.png" style="width: 800px;"/>
</a>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Do not include the assistant’s previous response in the list of messages.</strong> During evaluation, the conversation will be passed to your agent, which will generate a new response. This generated response will then be evaluated based on the expected output or the specified rules.</p>
</div>
</section>
</section>
</section>
</div><div class="flex justify-between items-center pt-6 mt-12 border-t border-border gap-4">
<div class="mr-auto">
<a class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors border border-input hover:bg-accent hover:text-accent-foreground py-2 px-4" href="../quickstart.html">
<svg class="mr-2 h-4 w-4" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<polyline points="15 18 9 12 15 6"></polyline>
</svg>
        Quickstart &amp; Setup
      </a>
</div>
<div class="ml-auto">
<a class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors border border-input hover:bg-accent hover:text-accent-foreground py-2 px-4" href="annotate.html">
        Annotate test dataset
        <svg class="ml-2 h-4 w-4" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<polyline points="9 18 15 12 9 6"></polyline>
</svg>
</a>
</div>
</div></div><aside class="hidden text-sm xl:block" id="right-sidebar">
<div class="sticky top-16 -mt-10 max-h-[calc(100vh-5rem)] overflow-y-auto pt-6 space-y-2"><p class="font-medium">On this page</p>
<ul>
<li><a :data-current="activeSection === '#generate-test-cases'" class="reference internal" href="#generate-test-cases">Generate test cases</a><ul>
<li><a :data-current="activeSection === '#adversarial-tests-generation'" class="reference internal" href="#adversarial-tests-generation">Adversarial tests generation</a></li>
<li><a :data-current="activeSection === '#document-based-generation'" class="reference internal" href="#document-based-generation">Document-based generation</a></li>
</ul>
</li>
<li><a :data-current="activeSection === '#import-an-existing-dataset-of-tests'" class="reference internal" href="#import-an-existing-dataset-of-tests">Import an existing dataset of tests</a><ul>
<li><a :data-current="activeSection === '#create-a-new-dataset'" class="reference internal" href="#create-a-new-dataset">Create a new dataset</a></li>
<li><a :data-current="activeSection === '#import-a-dataset-of-conversations'" class="reference internal" href="#import-a-dataset-of-conversations">Import a dataset of conversations</a></li>
<li><a :data-current="activeSection === '#add-a-conversation'" class="reference internal" href="#add-a-conversation">Add a conversation</a></li>
</ul>
</li>
</ul>
</div>
</aside>
</main>
</div>
</div><footer class="py-6 border-t border-border md:py-0">
<div class="container flex flex-col items-center justify-between gap-4 md:h-24 md:flex-row">
<div class="flex flex-col items-center gap-4 px-8 md:flex-row md:gap-2 md:px-0">
<p class="text-sm leading-loose text-center text-muted-foreground md:text-left">© 2024, Giskard Built with <a class="font-medium underline underline-offset-4" href="https://www.sphinx-doc.org" rel="noreferrer">Sphinx 7.3.7</a></p>
</div>
</div>
</footer>
</div>
<script src="../../_static/documentation_options.js?v=5929fcd5"></script>
<script src="../../_static/doctools.js?v=9a2dae69"></script>
<script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
<script defer="defer" src="../../_static/theme.js?v=e82a16a3"></script>
<script src="../../_static/design-tabs.js?v=f930bc37"></script>
</body>
</html>