<!DOCTYPE html>

<html :class="{'dark': darkMode === 'dark' || (darkMode === 'system' &amp;&amp; window.matchMedia('(prefers-color-scheme: dark)').matches)}" class="scroll-smooth" data-content_root="../../" lang="en" x-data="{ darkMode: localStorage.getItem('darkMode') || localStorage.setItem('darkMode', 'system'), activeSection: '' }" x-init="$watch('darkMode', val =&gt; localStorage.setItem('darkMode', val))">
<head>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta charset="utf-8"/>
<meta content="white" media="(prefers-color-scheme: light)" name="theme-color"/>
<meta content="black" media="(prefers-color-scheme: dark)" name="theme-color"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Annotate conversation | Giskard Hub  documentation</title>
<meta content="Annotate conversation | Giskard Hub  documentation" property="og:title"/>
<meta content="Annotate conversation | Giskard Hub  documentation" name="twitter:title"/>
<link href="../../_static/pygments.css?v=d8449d71" rel="stylesheet" type="text/css"/>
<link href="../../_static/theme.css?v=42baaae4" rel="stylesheet" type="text/css"/>
<link href="../../_static/sphinx-design.min.css?v=95c83b7e" rel="stylesheet" type="text/css"/>
<link href="../../_static/pygments-dark.css?v=d7994ac5" rel="stylesheet" type="text/css"/>
<link href="../../_static/custom.css?v=d7beac4d" rel="stylesheet" type="text/css"/>
<link href="../../_static/awesome-sphinx-design.css?v=15e0fffa" rel="stylesheet" type="text/css"/>
<link href="../../_static/favicon.ico" rel="icon"/>
<link href="../../search.html" rel="search" title="Search"/>
<link href="../../genindex.html" rel="index" title="Index"/>
<link href="access-rights.html" rel="next" title="Set access rights"/>
<link href="playground.html" rel="prev" title="Experiment in the Playground"/>
<script>
    <!-- Prevent Flash of wrong theme -->
      const userPreference = localStorage.getItem('darkMode');
      let mode;
      if (userPreference === 'dark' || window.matchMedia('(prefers-color-scheme: dark)').matches) {
        mode = 'dark';
        document.documentElement.classList.add('dark');
      } else {
        mode = 'light';
      }
      if (!userPreference) {localStorage.setItem('darkMode', mode)}
    </script>
</head>
<body :class="{ 'overflow-hidden': showSidebar }" @scroll.window="showScrollTop = pageYOffset &gt; 100" class="min-h-screen font-sans antialiased bg-background text-foreground" x-data="{ showSidebar: false, showScrollTop: false }">
<div @click.self="showSidebar = false" class="fixed inset-0 z-50 overflow-hidden bg-background/80 backdrop-blur-sm md:hidden" x-cloak="" x-show="showSidebar"></div><div class="relative flex flex-col min-h-screen" id="page"><a class="absolute top-0 left-0 z-[100] block bg-background p-4 text-xl transition -translate-x-full opacity-0 focus:translate-x-0 focus:opacity-100" href="#content">
      Skip to content
    </a><header class="sticky top-0 z-40 w-full border-b shadow-sm border-border supports-backdrop-blur:bg-background/60 bg-background/95 backdrop-blur"><div class="container flex items-center h-14">
<div class="hidden mr-4 md:flex">
<a class="flex items-center mr-6" href="../../index.html">
<img alt="Logo" class="mr-2 hidden dark:block" height="24" src="../../_static/logo_white.png" width="24"/>
<img alt="Logo" class="mr-2 dark:hidden" height="24" src="../../_static/logo_black.png" width="24"/><span class="hidden font-bold sm:inline-block text-clip whitespace-nowrap">Giskard Hub  documentation</span>
</a></div><button @click="showSidebar = true" class="inline-flex items-center justify-center h-10 px-0 py-2 mr-2 text-base font-medium transition-colors rounded-md hover:text-accent-foreground hover:bg-transparent md:hidden" type="button">
<svg aria-hidden="true" fill="currentColor" height="24" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M152.587 825.087q-19.152 0-32.326-13.174t-13.174-32.326q0-19.152 13.174-32.326t32.326-13.174h440q19.152 0 32.326 13.174t13.174 32.326q0 19.152-13.174 32.326t-32.326 13.174h-440Zm0-203.587q-19.152 0-32.326-13.174T107.087 576q0-19.152 13.174-32.326t32.326-13.174h320q19.152 0 32.326 13.174T518.087 576q0 19.152-13.174 32.326T472.587 621.5h-320Zm0-203.587q-19.152 0-32.326-13.174t-13.174-32.326q0-19.152 13.174-32.326t32.326-13.174h440q19.152 0 32.326 13.174t13.174 32.326q0 19.152-13.174 32.326t-32.326 13.174h-440ZM708.913 576l112.174 112.174q12.674 12.674 12.674 31.826t-12.674 31.826Q808.413 764.5 789.261 764.5t-31.826-12.674l-144-144Q600 594.391 600 576t13.435-31.826l144-144q12.674-12.674 31.826-12.674t31.826 12.674q12.674 12.674 12.674 31.826t-12.674 31.826L708.913 576Z"></path>
</svg>
<span class="sr-only">Toggle navigation menu</span>
</button>
<div class="flex items-center justify-between flex-1 space-x-2 sm:space-x-4 md:justify-end">
<div class="flex-1 w-full md:w-auto md:flex-none"><form @keydown.k.window.meta="$refs.search.focus()" action="../../search.html" class="relative flex items-center group" id="searchbox" method="get">
<input aria-label="Search the docs" class="inline-flex items-center font-medium transition-colors bg-transparent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ring-offset-background border border-input hover:bg-accent focus:bg-accent hover:text-accent-foreground focus:text-accent-foreground hover:placeholder-accent-foreground py-2 px-4 relative h-9 w-full justify-start rounded-[0.5rem] text-sm text-muted-foreground sm:pr-12 md:w-40 lg:w-64" id="search-input" name="q" placeholder="Search ..." type="search" x-ref="search"/>
<kbd class="pointer-events-none absolute right-1.5 top-2 hidden h-5 select-none text-muted-foreground items-center gap-1 rounded border border-border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex group-hover:bg-accent group-hover:text-accent-foreground">
<span class="text-xs">⌘</span>
    K
  </kbd>
</form>
</div>
<nav class="flex items-center space-x-1">
<button @click="darkMode = darkMode === 'light' ? 'dark' : 'light'" aria-label="Color theme switcher" class="relative inline-flex items-center justify-center px-0 text-sm font-medium transition-colors rounded-md hover:bg-accent hover:text-accent-foreground h-9 w-9" type="button">
<svg class="absolute transition-all scale-100 rotate-0 dark:-rotate-90 dark:scale-0" fill="currentColor" height="24" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M480 685q45.456 0 77.228-31.772Q589 621.456 589 576q0-45.456-31.772-77.228Q525.456 467 480 467q-45.456 0-77.228 31.772Q371 530.544 371 576q0 45.456 31.772 77.228Q434.544 685 480 685Zm0 91q-83 0-141.5-58.5T280 576q0-83 58.5-141.5T480 376q83 0 141.5 58.5T680 576q0 83-58.5 141.5T480 776ZM80 621.5q-19.152 0-32.326-13.174T34.5 576q0-19.152 13.174-32.326T80 530.5h80q19.152 0 32.326 13.174T205.5 576q0 19.152-13.174 32.326T160 621.5H80Zm720 0q-19.152 0-32.326-13.174T754.5 576q0-19.152 13.174-32.326T800 530.5h80q19.152 0 32.326 13.174T925.5 576q0 19.152-13.174 32.326T880 621.5h-80Zm-320-320q-19.152 0-32.326-13.174T434.5 256v-80q0-19.152 13.174-32.326T480 130.5q19.152 0 32.326 13.174T525.5 176v80q0 19.152-13.174 32.326T480 301.5Zm0 720q-19.152 0-32.326-13.17Q434.5 995.152 434.5 976v-80q0-19.152 13.174-32.326T480 850.5q19.152 0 32.326 13.174T525.5 896v80q0 19.152-13.174 32.33-13.174 13.17-32.326 13.17ZM222.174 382.065l-43-42Q165.5 327.391 166 308.239t13.174-33.065q13.435-13.674 32.587-13.674t32.065 13.674l42.239 43q12.674 13.435 12.555 31.706-.12 18.272-12.555 31.946-12.674 13.674-31.445 13.413-18.772-.261-32.446-13.174Zm494 494.761-42.239-43q-12.674-13.435-12.674-32.087t12.674-31.565Q686.609 756.5 705.38 757q18.772.5 32.446 13.174l43 41.761Q794.5 824.609 794 843.761t-13.174 33.065Q767.391 890.5 748.239 890.5t-32.065-13.674Zm-42-494.761Q660.5 369.391 661 350.62q.5-18.772 13.174-32.446l41.761-43Q728.609 261.5 747.761 262t33.065 13.174q13.674 13.435 13.674 32.587t-13.674 32.065l-43 42.239q-13.435 12.674-31.706 12.555-18.272-.12-31.946-12.555Zm-495 494.761Q165.5 863.391 165.5 844.239t13.674-32.065l43-42.239q13.435-12.674 32.087-12.674t31.565 12.674Q299.5 782.609 299 801.38q-.5 18.772-13.174 32.446l-41.761 43Q231.391 890.5 212.239 890t-33.065-13.174ZM480 576Z"></path>
</svg>
<svg class="absolute transition-all scale-0 rotate-90 dark:rotate-0 dark:scale-100" fill="currentColor" height="24" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M480 936q-151 0-255.5-104.5T120 576q0-138 90-239.5T440 218q25-3 39 18t-1 44q-17 26-25.5 55t-8.5 61q0 90 63 153t153 63q31 0 61.5-9t54.5-25q21-14 43-1.5t19 39.5q-14 138-117.5 229T480 936Zm0-80q88 0 158-48.5T740 681q-20 5-40 8t-40 3q-123 0-209.5-86.5T364 396q0-20 3-40t8-40q-78 32-126.5 102T200 576q0 116 82 198t198 82Zm-10-270Z"></path>
</svg>
</button>
</nav>
</div>
</div>
</header>
<div class="flex-1"><div class="container flex-1 items-start md:grid md:grid-cols-[220px_minmax(0,1fr)] md:gap-6 lg:grid-cols-[240px_minmax(0,1fr)] lg:gap-10"><aside :aria-hidden="!showSidebar" :class="{ 'translate-x-0': showSidebar }" class="fixed inset-y-0 left-0 md:top-14 z-50 md:z-30 bg-background md:bg-transparent transition-all duration-100 -translate-x-full md:translate-x-0 ml-0 p-6 md:p-0 md:-ml-2 md:h-[calc(100vh-3.5rem)] w-5/6 md:w-full shrink-0 overflow-y-auto border-r border-border md:sticky" id="left-sidebar">
<a class="!justify-start text-sm md:!hidden bg-background" href="../../index.html">
<img alt="Logo" class="mr-2 hidden dark:block" height="16" src="../../_static/logo_white.png" width="16"/>
<img alt="Logo" class="mr-2 dark:hidden" height="16" src="../../_static/logo_black.png" width="16"/><span class="font-bold text-clip whitespace-nowrap">Giskard Hub  documentation</span>
</a>
<div class="relative overflow-hidden md:overflow-auto my-4 md:my-0 h-[calc(100vh-8rem)] md:h-auto">
<div class="overflow-y-auto h-full w-full relative pr-6"><nav class="table w-full min-w-full my-6 lg:my-8">
<p class="caption" role="heading"><span class="caption-text">Giskard Hub</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quick start</a></li>
<li class="toctree-l1"><a class="reference internal" href="manage-datasets.html">Manage datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="generate-dataset.html">Generate a dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="create-custom-checks.html">Create custom checks</a></li>
<li class="toctree-l1"><a class="reference internal" href="run-evaluations.html">Run evaluations</a></li>
<li class="toctree-l1"><a class="reference internal" href="compare-evaluations.html">Compare evaluations</a></li>
<li class="toctree-l1"><a class="reference internal" href="playground.html">Experiment in the Playground</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Annotate conversation</a></li>
<li class="toctree-l1"><a class="reference internal" href="access-rights.html">Set access rights</a></li>
<li class="toctree-l1"><a class="reference internal" href="continuous-red-teaming.html">Continuous red teaming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Giskard Hub Library</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cli/quickstart.html">Quick start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli/guide/manage-datasets.html">Manage datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli/guide/run-evaluations.html">Run evaluations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli/guide/local-evaluation.html">Evaluate local models</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Reference</span></p>
<ul>
<li class="toctree-l1" x-data="{ expanded: $el.classList.contains('current') ? true : false }"><a :class="{ 'expanded' : expanded }" @click="expanded = !expanded" class="reference internal expandable" href="../../cli/reference/index.html">Python API Reference<button @click.prevent.stop="expanded = !expanded" type="button"><span class="sr-only"></span><svg fill="currentColor" height="18px" stroke="none" viewbox="0 0 24 24" width="18px" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg></button></a><ul x-show="expanded">
<li class="toctree-l2"><a class="reference internal" href="../../cli/reference/client.html">Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli/reference/entities/index.html">Entities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli/reference/resources/index.html">Resources</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</div>
<button @click="showSidebar = false" class="absolute md:hidden right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100" type="button">
<svg class="h-4 w-4" fill="currentColor" height="24" stroke="none" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M480 632 284 828q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536 576l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480 632Z"></path>
</svg>
</button>
</aside>
<main class="relative py-6 lg:gap-10 lg:py-8 xl:grid xl:grid-cols-[1fr_300px]">
<div class="w-full min-w-0 mx-auto">
<nav aria-label="breadcrumbs" class="flex items-center mb-4 space-x-1 text-sm text-muted-foreground">
<a class="overflow-hidden text-ellipsis whitespace-nowrap hover:text-foreground" href="../../index.html">
<span class="hidden md:inline">Giskard Hub  documentation</span>
<svg aria-label="Home" class="md:hidden" fill="currentColor" height="18" stroke="none" viewbox="0 96 960 960" width="18" xmlns="http://www.w3.org/2000/svg">
<path d="M240 856h120V616h240v240h120V496L480 316 240 496v360Zm-80 80V456l320-240 320 240v480H520V696h-80v240H160Zm320-350Z"></path>
</svg>
</a>
<div class="mr-1">/</div><span aria-current="page" class="font-medium text-foreground overflow-hidden text-ellipsis whitespace-nowrap">Annotate conversation</span>
</nav>
<div id="content" role="main">
<section id="annotate-conversation">
<h1>Annotate conversation<a class="headerlink" href="#annotate-conversation" title="Link to this heading">¶</a></h1>
<section id="step-by-step-guide">
<h2>Step-by-step guide<a class="headerlink" href="#step-by-step-guide" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#step-by-step-guide'">¶</a></h2>
<p>In this section, we will walk you through how to write a conversation and send it to your dataset.</p>
<section id="try-a-conversation">
<h3>Try a conversation<a class="headerlink" href="#try-a-conversation" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#try-a-conversation'">¶</a></h3>
<p>Conversations are a collection of messages together with evaluation parameters (i.e. the expected answer and policies that the agent must meet when responding).</p>
<p>These conversations are the ones you eventually evaluate your model against. This ensures that the model works as expected and doesn’t hallucinate. Knowing this helps you to mitigate risks and allows you to take corrective measures.</p>
<p>Creating conversations in the playground allows you to test your bot in a user-like environment. Additionally, these conversations can be sent to a specific dataset (see the section below) to test different versions of the model on the same conversation. This helps in evaluating and improving the bot’s performance consistently.</p>
<section id="how-to-create-effective-conversations-with-your-chatbot">
<h4>How to create effective conversations with your chatbot<a class="headerlink" href="#how-to-create-effective-conversations-with-your-chatbot" title="Link to this heading">¶</a></h4>
<p>To ensure your chatbot provides accurate and relevant responses, follow these guidelines:</p>
<ul class="simple">
<li><p>Be <strong>clear</strong> and <strong>concise</strong>. Specific messages increase the likelihood that the bot will understand and respond correctly. Focus on domain-specific questions that are relevant to your context.</p></li>
<li><p>Provide <strong>context</strong>. Set the stage for the bot by offering background information. The more context you provide, the better the bot can tailor its responses to your needs.</p></li>
<li><p><strong>Break down</strong> your questions into multiple messages. Long, complex queries can confuse the bot. Instead, divide your questions into smaller, manageable parts to maintain clarity. Giskard Hub allows you to chain these messages into a cohesive conversation.</p></li>
<li><p><strong>Use proper grammar and spelling</strong>. Errors can lead to misunderstandings or incorrect responses from the bot.</p></li>
<li><p><strong>Test and refine</strong> your messages. Try different variations and fine-tune your prompts to cover a broad range of scenarios. This helps ensure the bot handles diverse inputs effectively.</p></li>
</ul>
</section>
</section>
<section id="types-of-conversations">
<h3>Types of conversations<a class="headerlink" href="#types-of-conversations" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#types-of-conversations'">¶</a></h3>
<section id="adversarial-conversations">
<h4>Adversarial conversations<a class="headerlink" href="#adversarial-conversations" title="Link to this heading">¶</a></h4>
<p>Adversarial conversations are designed to challenge the chatbot by presenting it with difficult, unexpected, or tricky questions. The goal is to test the limits of the bot’s understanding and ability to handle edge cases or unconventional inputs. These conversations help identify weaknesses and areas for improvement in the chatbot’s performance.</p>
<blockquote>
<div><p>Example:</p>
<p>User: “What is the current interest rate for a loan from the Martian Bank?”</p>
<p>Bot: “The current interest rate for a loan from the Martian Bank is 5%.”</p>
<p>In this example, the bot incorrectly hallucinates an answer about a non-existent Martian Bank, highlighting a vulnerability that needs addressing.</p>
</div></blockquote>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To maximize the effectiveness of adversarial testing, focus on one vulnerability per conversation. Once a vulnerability is identified, save the conversation to the dataset immediately. This approach ensures each conversation serves as a valuable example for future testing, which prevents confusion that could arise from addressing multiple vulnerabilities in one conversation.</p>
</div>
<p><strong>Example of effective adversarial testing</strong></p>
<blockquote>
<div><p>User: “Can I get a loan to buy property on the moon?”</p>
<p>Bot: “Currently, there are no financial services available for purchasing property on the moon as it is not legally owned by individuals. However, I can help you with information on home loans on Earth.”</p>
<p>In this effective adversarial test, the bot correctly identifies the impossibility of buying property on the moon, avoiding hallucination. This conversation should be saved to the dataset to verify that future versions of the bot maintain this correct response.</p>
</div></blockquote>
<p><strong>Example of not effective adversarial testing</strong></p>
<blockquote>
<div><p>User: “Can I get a loan to buy property on the moon?”</p>
<p>Bot: “Yes, you can get a loan to buy property on the moon.”</p>
<p>Then immediately:</p>
<p>User: “What are the interest rates for a home loan?”</p>
<p>Bot: “The interest rates for a home loan are 3.5%.”</p>
<p>In this not effective adversarial test, the conversation combines a hallucinatory response about moon property loans with a correct response about home loan interest rates. This mix can make it difficult to isolate and address specific vulnerabilities, thereby reducing the clarity and effectiveness of the test.</p>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Don’t test multiple vulnerabilities in a single conversation. Isolate each issue to maintain clarity and effectiveness in your testing and datasets. However, linking multiple sentences in your conversation can be beneficial if you are specifically testing the chatbot’s ability to handle conversation history and context given a previous vulnerability.</p>
</div>
</section>
<section id="legitimate-conversations">
<h4>Legitimate conversations<a class="headerlink" href="#legitimate-conversations" title="Link to this heading">¶</a></h4>
<p>Legitimate conversations simulate typical interactions that a user would have with the chatbot in a real-world scenario. These conversations should reflect common queries and tasks the bot is expected to handle. Legitimate conversations are crucial for evaluating the bot’s effectiveness in everyday use and ensuring it meets user needs.</p>
<blockquote>
<div><p>Example for a chatbot that sells home products:</p>
<p>User: “What is the price of the latest model of your vacuum cleaner?”</p>
<p>Bot: “The latest model of our vacuum cleaner is priced at $199.99. Would you like to place an order?”</p>
</div></blockquote>
</section>
<section id="out-of-scope-questions">
<h4>Out of scope questions<a class="headerlink" href="#out-of-scope-questions" title="Link to this heading">¶</a></h4>
<p>In legitimate conversations, it can also be important to test out-of-scope questions. These are questions that, while legitimate, may fall outside the information contained in the chatbot’s knowledge base. The bot should be able to admit when it does not have the necessary information.</p>
<p><strong>Example of an out-of-scope question</strong></p>
<blockquote>
<div><p>User: “Do you sell outdoor furniture?”</p>
<p>Bot: “I’m sorry, but we currently do not sell outdoor furniture. We specialize in home products. Is there something else you are looking for?”</p>
<p>This type of response shows that the bot correctly handles a legitimate but out-of-scope question by admitting it doesn’t know the answer and steering the user back to relevant topics.</p>
</div></blockquote>
</section>
<section id="conversation-history-testing">
<h4>Conversation history testing<a class="headerlink" href="#conversation-history-testing" title="Link to this heading">¶</a></h4>
<p>In these kinds of conversations, it’s important to test the bot’s ability to handle conversation history. Concatenating multiple messages can be useful for this purpose.</p>
<p><strong>Example testing conversation history</strong></p>
<blockquote>
<div><p>User: “Do you have any discounts on kitchen appliances?”</p>
<p>Bot: “Yes, we currently have a 10% discount on all kitchen appliances.”</p>
<p>User: “Great! Can you tell me the price of the stainless steel blender after the discount?”</p>
<p>Bot: “The stainless steel blender is originally priced at $79.99. With the 10% discount, the final price is $71.99.”</p>
</div></blockquote>
<p>This example demonstrates effective conversation history handling for several reasons:</p>
<ul class="simple">
<li><p><strong>Context Retention:</strong> The bot retains the context of the initial discount discussion when answering the follow-up question. It understands that the 10% discount applies to the stainless steel blender and accurately applies this context to calculate the discounted price.</p></li>
<li><p><strong>Accuracy:</strong> The bot accurately performs the calculation, showing that it can handle numerical data and apply discounts correctly.</p></li>
<li><p><strong>User Guidance:</strong> The conversation flow guides the user from a general inquiry to a specific request, showcasing the bot’s ability to manage progressively detailed queries within the same context.</p></li>
<li><p><strong>Relevance:</strong> Each response is relevant to the user’s questions, maintaining a coherent and logical conversation flow.</p></li>
</ul>
<p>The important thing is to remember that once you have tested what you wanted, you should send the conversation to the dataset, keeping the length of the conversations short and focused.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul class="simple">
<li><p>Test out-of-scope questions to ensure the bot appropriately handles unknown queries.</p></li>
<li><p>Use conversation history to test the bot’s ability to maintain context over multiple exchanges.</p></li>
<li><p>Keep conversations short and focused to isolate specific functionalities.</p></li>
<li><p>Regularly update your dataset with new test cases to continually improve the bot’s performance.</p></li>
</ul>
</div>
</section>
</section>
<section id="send-to-dataset">
<h3>Send to dataset<a class="headerlink" href="#send-to-dataset" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#send-to-dataset'">¶</a></h3>
<p>When the conversation is sufficient enough for what it needs to contain, you can send it to the dataset which you then use to evaluate your model.</p>
<a class="reference internal image-reference" href="../../_images/playground-save.png"><img alt='"Save conversation to a dataset from the Playground"' class="align-center" src="../../_images/playground-save.png" style="width: 800px;"/>
</a>
<p>The screen above shows three sections:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Messages</span></code>: the conversation you want to save to the dataset. Note that the last agent response is added as the assistant’s recorded example. Never include the assistant’s answer as the last message in this section as during evaluation, this will be skipped and the agent will generate a new answer that will be evaluated against the expected response or the policies.</p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">Evaluation</span> <span class="pre">Settings</span></code>: the parameters from which you want to evaluate the response. It includes:</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Expected</span> <span class="pre">response</span></code> (optional): a reference answer that will be used to determine the correctness of the agent’s response. There can only be one expected response. If it is not provided, we do not check for the Correctness metric.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Rules</span></code> (optional): a list of requirements that the agent must meet when generating the answer. There can be one or more rules. If it is not provided, we do not check for the Conformity metric.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Context</span></code> (optional): the context of the conversation. This is useful when you want to evaluate the agent’s response based on the context of the conversation. If it is not provided, we do not check for the Groundedness metric.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Keyword</span></code> (optional): a keyword that the agent’s response must contain. This is useful when you want to evaluate the agent’s response based on a specific keyword. If it is not provided, we do not check for the String matching metric.</p></li>
<li><p>And any custom checks you may have defined.</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Dataset</span></code>: where the conversations are saved</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tags</span></code> (optional): allows for better organization and filtering conversations</p></li>
</ul>
</section>
<section id="how-to-choose-the-dataset">
<h3>How to choose the dataset?<a class="headerlink" href="#how-to-choose-the-dataset" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#how-to-choose-the-dataset'">¶</a></h3>
<p>The dataset is where the conversations are saved. You can save all your conversations in one dataset. This dataset is what the product manager/developer will use when they evaluate your model.</p>
</section>
<section id="how-to-choose-the-right-tag">
<h3>How to choose the right tag?<a class="headerlink" href="#how-to-choose-the-right-tag" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#how-to-choose-the-right-tag'">¶</a></h3>
<p>Tags are optional but highly recommended for better organization. They allow you to filter the conversations later on and manage your chatbot’s performance more effectively.</p>
<p>To choose a tag, it is good to stick to a naming convention that you agreed on beforehand. Ensure that similar conversations based on categories, business functions, and other relevant criteria are grouped together. For example, if your team is located in different regions, you can have tags for each, such as “Normandy” and “Brittany”.</p>
<section id="examples-of-tags">
<h4>Examples of tags<a class="headerlink" href="#examples-of-tags" title="Link to this heading">¶</a></h4>
<ol class="arabic">
<li><dl class="simple">
<dt><strong>Issue-Related Tags</strong>: These tags categorize the types of problems that might occur during a conversation.</dt><dd><p>Examples: “Hallucination”, “Misunderstanding”, “Incorrect Information”</p>
</dd>
</dl>
</li>
<li><dl>
<dt><strong>Attack-Oriented Tags</strong>: These tags relate to specific types of adversarial testing or attacks.</dt><dd><p>Examples: “SQL Injection Attempt”, “Phishing Query”, “Illegal Request”</p>
<p>Examples: “Balance Inquiry”, “Loan Application”, “Account Opening”</p>
</dd>
</dl>
</li>
<li><p><strong>Legitimate Question Tags</strong>: These tags categorize standard, everyday user queries.</p></li>
<li><dl class="simple">
<dt><strong>Context-Specific Tags</strong>: These tags pertain to specific business contexts or types of interactions.</dt><dd><p>Examples: “Caisse d’Epargne”, “Banco Popular”, “Corporate Banking”</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>User Behavior Tags</strong>: These tags describe the nature of the user’s behavior or the style of interaction.</dt><dd><p>Examples: “Confused User”, “Angry Customer”, “New User”</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Temporal Tags</strong>: Depending of the life cycle of the testing process of the model</dt><dd><p>Examples: “red teaming phase 1”, “red teaming phase 2”</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Policy based Tags</strong>: Tags on a policy</dt><dd><p>Examples: “le modèle doit répondre en français”</p>
</dd>
</dl>
</li>
</ol>
</section>
<section id="examples-of-what-not-to-do-with-tags">
<h4>Examples of what not to do with tags<a class="headerlink" href="#examples-of-what-not-to-do-with-tags" title="Link to this heading">¶</a></h4>
<ol class="arabic simple">
<li><dl class="simple">
<dt><strong>Too Specific Tags</strong>: Avoid using tags that are overly specific, as they can make filtering and grouping difficult.</dt><dd><p>Example: Using “Hallucination during balance inquiry on July 21st” instead of a more general tag “Hallucination”.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Inconsistent Tags</strong>: Ensure that tags are consistent and follow a hierarchy if necessary.</dt><dd><p>Example: Using both “Incorrect Info” and “Incorrect Information” can create confusion. Instead, choose one standardized term.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Redundant Tags</strong>: Avoid using redundant tags that do not add value.</dt><dd><p>Example: Using “Balance Inquiry” and “Balance Check” separately when they mean the same thing.</p>
</dd>
</dl>
</li>
</ol>
</section>
<section id="best-practices-for-using-tags">
<h4>Best practices for using tags<a class="headerlink" href="#best-practices-for-using-tags" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><dl class="simple">
<dt><strong>Use Multiple Tags if Necessary</strong>: Apply multiple tags to a single conversation to cover all relevant aspects.</dt><dd><p>Example: A conversation with a confused user asking about loan applications could be tagged with “Confused User”, “Loan Application”, and “Misunderstanding”.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Hierarchical Tags</strong>: Implement a hierarchy in your tags to create a structured and clear tagging system.</dt><dd><p>Example: Use “User Issues &gt; Hallucination” to show the relationship between broader categories and specific issues.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Stick to Agreed Naming Conventions</strong>: Ensure that your team agrees on and follows a consistent naming convention for tags to maintain organization and clarity.</dt><dd><p>Example: Decide on using either plural or singular forms for all tags and stick to it.</p>
</dd>
</dl>
</li>
</ul>
<p>By following these guidelines, you can choose the right tags that will help in organizing your conversations efficiently, making it easier to filter and analyze the chatbot’s performance.</p>
</section>
</section>
</section>
</section>
</div><div class="flex justify-between items-center pt-6 mt-12 border-t border-border gap-4">
<div class="mr-auto">
<a class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors border border-input hover:bg-accent hover:text-accent-foreground py-2 px-4" href="playground.html">
<svg class="mr-2 h-4 w-4" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<polyline points="15 18 9 12 15 6"></polyline>
</svg>
        Experiment in the Playground
      </a>
</div>
<div class="ml-auto">
<a class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors border border-input hover:bg-accent hover:text-accent-foreground py-2 px-4" href="access-rights.html">
        Set access rights
        <svg class="ml-2 h-4 w-4" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<polyline points="9 18 15 12 9 6"></polyline>
</svg>
</a>
</div>
</div></div><aside class="hidden text-sm xl:block" id="right-sidebar">
<div class="sticky top-16 -mt-10 max-h-[calc(100vh-5rem)] overflow-y-auto pt-6 space-y-2"><p class="font-medium">On this page</p>
<ul>
<li><a :data-current="activeSection === '#step-by-step-guide'" class="reference internal" href="#step-by-step-guide">Step-by-step guide</a><ul>
<li><a :data-current="activeSection === '#try-a-conversation'" class="reference internal" href="#try-a-conversation">Try a conversation</a><ul>
<li><a :data-current="activeSection === '#how-to-create-effective-conversations-with-your-chatbot'" class="reference internal" href="#how-to-create-effective-conversations-with-your-chatbot">How to create effective conversations with your chatbot</a></li>
</ul>
</li>
<li><a :data-current="activeSection === '#types-of-conversations'" class="reference internal" href="#types-of-conversations">Types of conversations</a><ul>
<li><a :data-current="activeSection === '#adversarial-conversations'" class="reference internal" href="#adversarial-conversations">Adversarial conversations</a></li>
<li><a :data-current="activeSection === '#legitimate-conversations'" class="reference internal" href="#legitimate-conversations">Legitimate conversations</a></li>
<li><a :data-current="activeSection === '#out-of-scope-questions'" class="reference internal" href="#out-of-scope-questions">Out of scope questions</a></li>
<li><a :data-current="activeSection === '#conversation-history-testing'" class="reference internal" href="#conversation-history-testing">Conversation history testing</a></li>
</ul>
</li>
<li><a :data-current="activeSection === '#send-to-dataset'" class="reference internal" href="#send-to-dataset">Send to dataset</a></li>
<li><a :data-current="activeSection === '#how-to-choose-the-dataset'" class="reference internal" href="#how-to-choose-the-dataset">How to choose the dataset?</a></li>
<li><a :data-current="activeSection === '#how-to-choose-the-right-tag'" class="reference internal" href="#how-to-choose-the-right-tag">How to choose the right tag?</a><ul>
<li><a :data-current="activeSection === '#examples-of-tags'" class="reference internal" href="#examples-of-tags">Examples of tags</a></li>
<li><a :data-current="activeSection === '#examples-of-what-not-to-do-with-tags'" class="reference internal" href="#examples-of-what-not-to-do-with-tags">Examples of what not to do with tags</a></li>
<li><a :data-current="activeSection === '#best-practices-for-using-tags'" class="reference internal" href="#best-practices-for-using-tags">Best practices for using tags</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</aside>
</main>
</div>
</div><footer class="py-6 border-t border-border md:py-0">
<div class="container flex flex-col items-center justify-between gap-4 md:h-24 md:flex-row">
<div class="flex flex-col items-center gap-4 px-8 md:flex-row md:gap-2 md:px-0">
<p class="text-sm leading-loose text-center text-muted-foreground md:text-left">© 2024, Giskard Built with <a class="font-medium underline underline-offset-4" href="https://www.sphinx-doc.org" rel="noreferrer">Sphinx 7.4.7</a></p>
</div>
</div>
</footer>
</div><button :class="{'opacity-0 invisible' : !showScrollTop}" @click="window.scrollTo({top: 0, behavior: 'smooth'})" class="fixed bottom-8 right-8 p-2 z-10 rounded-sm bg-gray-700 text-xs text-white transition-all duration-1000 hover:bg-gray-950 focus:bg-gray-950" id="scrolltop" x-cloak="">
<svg aria-hidden="true" class="inline fill-current mb-[2px]" height="14" viewbox="0 96 960 960" width="14" xmlns="http://www.w3.org/2000/svg">
<path d="M450 896V370L202 618l-42-42 320-320 320 320-42 42-248-248v526h-60Z"></path>
</svg>
  Back to top
</button>
<script src="../../_static/documentation_options.js?v=5929fcd5"></script>
<script src="../../_static/doctools.js?v=9a2dae69"></script>
<script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
<script defer="defer" src="../../_static/theme.js?v=073f68d9"></script>
<script src="../../_static/design-tabs.js?v=f930bc37"></script>
</body>
</html>